{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VIKAS TRIPATHI\\\\Downloads\\\\PropertyPedia\\\\src\\\\screens\\\\CreatePost.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { API_BASE_URL } from '../config/Constant';\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CreatePost() {\n  _s();\n  const navigate = useNavigate();\n  const [title, setTitle] = useState();\n  const [body, setBody] = useState();\n  const {\n    postId,\n    userId\n  } = useParams();\n  const [loader, setLoader] = useState(false);\n  const [isEdit, setIsEdit] = useState(false);\n  const populateData = () => {\n    if (postId) {\n      setIsEdit(true);\n      setLoader(true);\n      fetch(`${API_BASE_URL}/posts/${postId}`).then(response => response.json()).then(json => {\n        console.log(json);\n        setTitle(json.title);\n        setBody(json.body);\n        setLoader(false);\n      });\n    }\n  };\n  const createPost = event => {\n    setLoader(true);\n    event.preventDefault();\n    let methodType = \"POST\";\n    let url = 'posts';\n    if (postId) {\n      methodType = \"PUT\";\n      url = `posts/${postId}`;\n    }\n    let reqBody = JSON.stringify({\n      title: title,\n      body: body,\n      userId: 1 //userId\n    });\n\n    // console.log(event);\n    fetch(`${API_BASE_URL}/${url}`, {\n      method: `${methodType}`,\n      body: reqBody,\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8'\n      }\n    }).then(response => response.json()).then(json => {\n      // debugger;\n      setLoader(false);\n      console.log(json);\n      if (isEdit) {\n        alertFunction(\"Post Edited Successfully!\", 'success');\n      } else {\n        alertFunction(\"Post Created Successfully!\", 'success');\n      }\n    }).catch(err => {\n      alertFunction(\"Some Error occured!\", 'danger');\n      console.log(err);\n      setLoader(false);\n    });\n  };\n  function alertFunction(message, type) {\n    var wrapper = document.createElement('div');\n    wrapper.innerHTML = '<div class=\"alert alert-' + type + ' alert-dismissible\" role=\"alert\">' + message + '<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button></div>';\n    var alertPlaceholder = document.getElementById('alertMsg');\n    alertPlaceholder.append(wrapper);\n  }\n  useEffect(() => {\n    populateData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container  \",\n    children: [isEdit ? /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"py-3 text-center text-uppercase\",\n      children: \"Update Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"py-3 text-center text-uppercase\",\n      children: \"Create Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"alertMsg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this), loader ?\n    /*#__PURE__*/\n    // loader\n    _jsxDEV(\"div\", {\n      className: \"col-12 text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-primary\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contact-form-container mx-auto text-muted shadow-sm rounded p-3 lh-2\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: event => {\n          createPost(event);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            className: \"form-label\",\n            required: true,\n            children: \"Post Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: title,\n            type: \"text\",\n            onChange: e => {\n              setTitle(e.target.value);\n            },\n            className: \"form-control\",\n            id: \"title\",\n            required: true,\n            \"aria-describedby\": \"emailHelp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"description\",\n            className: \"form-label\",\n            required: true,\n            children: \"Post Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: body,\n            onChange: e => {\n              setBody(e.target.value);\n            },\n            className: \"form-control\",\n            id: \"description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-grid\",\n          children: isEdit ? /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Update Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 1\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Create Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 1\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n_s(CreatePost, \"f7/+adO1IMISB41EFDuDHIyRSM4=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = CreatePost;\nexport default CreatePost;\nvar _c;\n$RefreshReg$(_c, \"CreatePost\");","map":{"version":3,"names":["React","useEffect","useState","API_BASE_URL","useParams","useNavigate","jsxDEV","_jsxDEV","CreatePost","_s","navigate","title","setTitle","body","setBody","postId","userId","loader","setLoader","isEdit","setIsEdit","populateData","fetch","then","response","json","console","log","createPost","event","preventDefault","methodType","url","reqBody","JSON","stringify","method","headers","alertFunction","catch","err","message","type","wrapper","document","createElement","innerHTML","alertPlaceholder","getElementById","append","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","role","onSubmit","htmlFor","required","value","onChange","e","target","_c","$RefreshReg$"],"sources":["C:/Users/VIKAS TRIPATHI/Downloads/PropertyPedia/src/screens/CreatePost.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { API_BASE_URL } from '../config/Constant';\nimport {useParams,useNavigate} from \"react-router-dom\"\n\nfunction CreatePost() {\n  const navigate=useNavigate();\n    const [title,setTitle]=useState();\n  const [body,setBody]=useState();\n    const {postId,userId}=useParams();\n    const [loader,setLoader]=useState(false);\n    const [isEdit ,setIsEdit]=useState(false);\n\n    const populateData=()=>{\n      if(postId){\n        setIsEdit(true);\n     \n\n        setLoader(true);\n  fetch(`${API_BASE_URL}/posts/${postId}`)\n.then((response) => response.json())\n  .then((json) => {\n      console.log(json)\n      setTitle(json.title);\n      setBody(json.body);\n      setLoader(false);\n\n      });\n      \n      \n      }\n\n    }\n\n    const createPost=(event)=>{\n        setLoader(true);\n        event.preventDefault();\n        let methodType=\"POST\";\n        let url='posts';\n        if(postId){\n           methodType=\"PUT\";\n           url=`posts/${postId}`\n        }\n        let reqBody=JSON.stringify({\n          title: title,\n          body: body,\n          userId: 1, //userId\n    })\n       \n        // console.log(event);\n        fetch(`${API_BASE_URL}/${url}`, {\n        method: `${methodType}`,\n        body: reqBody,\n  headers: {\n    'Content-type': 'application/json; charset=UTF-8',\n  },\n    })\n  .then((response) => response.json())\n  .then((json) =>{ \n    // debugger;\n    setLoader(false);\n    console.log(json)\n    if(isEdit){\n      alertFunction(\"Post Edited Successfully!\",'success');\n    }else{\n      alertFunction(\"Post Created Successfully!\",'success');\n    }\n\n\n}).catch((err)=>{\n    alertFunction(\"Some Error occured!\",'danger');\n    console.log(err);\n    setLoader(false);\n})\n    \n\n    }\n\n\n    function alertFunction(message, type) {\n    var wrapper = document.createElement('div')\n    wrapper.innerHTML = '<div class=\"alert alert-' + type + ' alert-dismissible\" role=\"alert\">' + message + '<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button></div>'\n    var alertPlaceholder = document.getElementById('alertMsg')\n\n    alertPlaceholder.append(wrapper)\n  }\n  useEffect(()=>{\n    populateData();\n\n  },[])\n\n  return (\n    <div className='container  '>\n    {isEdit? \n      <h3 className='py-3 text-center text-uppercase' >Update Post</h3>\n      : <h3 className='py-3 text-center text-uppercase' >Create Post</h3>\n    }\n   \n    <div id='alertMsg'></div>\n{\n\n        loader? \n        // loader\n        <div className='col-12 text-center'>\n        <div className=\"spinner-border text-primary\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n        </div>\n        </div>\n        \n       :\n\n\n    <div className=\"contact-form-container mx-auto text-muted shadow-sm rounded p-3 lh-2\">  \n    <form onSubmit={(event)=>{createPost(event)}}>\n  <div className=\"mb-3\">\n    <label htmlFor=\"title\" className=\"form-label\" required>Post Title</label>\n    <input value={title} type=\"text\" onChange={(e)=>{setTitle(e.target.value)}} className=\"form-control\" id=\"title\" required aria-describedby=\"emailHelp\"/>\n  </div>\n<div className=\"mb-3\">\n<label htmlFor=\"description\"  className=\"form-label\" required>Post Description</label>\n<textarea value={body} onChange={(e)=>{setBody(e.target.value)}} className=\"form-control\" id=\"description\"/ >\n</div>\n<div className='d-grid'>\n{isEdit?\n<button type=\"submit\" className=\"btn btn-primary\">Update Post</button>\n:\n<button type=\"submit\" className=\"btn btn-primary\">Create Post</button>\n}\n{/*<div className='d-block'>\n{\nisEdit? \n<button onClick={()=>{navigate(-1)}} className='my-2 btn btn-primary w-100 text-uppercase'>Move Back</button>\n:\"\"\n}\n</div>*/}\n\n</div>\n</form>\n</div>\n}\n    </div>\n  )\n}\n\nexport default CreatePost"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}