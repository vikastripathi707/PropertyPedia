{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VIKAS TRIPATHI\\\\Downloads\\\\PropertyPedia\\\\propertypedia\\\\src\\\\screens\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport axios from \"axios\";\nimport { API_BASE_URL } from '../config/Constant';\nimport { useNavigate } from 'react-router-dom';\nimport { UserContext } from '../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const login = e => {\n    e.preventDefault();\n    // setLoader(true);\n\n    const config = {\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    };\n    const reqData = {\n      email: email,\n      password: password\n    };\n    axios.post(`${API_BASE_URL}/users`, reqData, config).then(response => {\n      // alertFunction(\"Registration Done Successfully , Please Proced to Login \",'success');\n\n      // find authenticated user details of api\n      const userId = 1; // hard coded value of user\n      fetch(`${API_BASE_URL}/users/${userId}`).then(response => response.json()).then(json => {\n        // storing the user details in local storage\n        localStorage.clear();\n        localStorage.setItem(\"user\", JSON.stringify(json));\n        localStorage.setItem(\"token\", \"abcdssnk\");\n        const token = localStorage.getItem(\"token\");\n        const user = JSON.parse(localStorage.getItem(\"user\"));\n        const userState = {\n          'token': token,\n          'user': user\n        };\n        const action = {\n          type: 'LOGIN',\n          payload: userState\n        };\n        dispatch(action);\n        navigate('/posts');\n      });\n      console.log(response);\n    }).catch(err => {\n      // alertFunction(\"Some Error occured!\",'danger');\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container  \",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"py-3 text-center text-uppercase\",\n      children: \"Please Login Below\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contact-form-container mx-auto text-muted shadow-sm rounded p-3 lh-2\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          login(e);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"form-label\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => {\n              setEmail(e.target.value);\n            },\n            type: \"email\",\n            className: \"form-control\",\n            id: \"email\",\n            required: true,\n            \"aria-describedby\": \"emailHelp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: \"form-label\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => {\n              setPassword(e.target.value);\n            },\n            type: \"password\",\n            className: \"form-control\",\n            id: \"password\",\n            required: true,\n            \"aria-describedby\": \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-grid\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 1\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"DnIzG3PSB0Y4ib5hiLWhyraLAAc=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useState","axios","API_BASE_URL","useNavigate","UserContext","jsxDEV","_jsxDEV","Login","_s","navigate","email","setEmail","password","setPassword","state","dispatch","login","e","preventDefault","config","headers","reqData","post","then","response","userId","fetch","json","localStorage","clear","setItem","JSON","stringify","token","getItem","user","parse","userState","action","type","payload","console","log","catch","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","onChange","target","value","id","required","_c","$RefreshReg$"],"sources":["C:/Users/VIKAS TRIPATHI/Downloads/PropertyPedia/propertypedia/src/screens/Login.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react'\nimport axios from \"axios\"\nimport { API_BASE_URL } from '../config/Constant';\nimport { useNavigate } from 'react-router-dom';\nimport { UserContext } from '../App';\n\nfunction Login() {\n  const navigate=useNavigate();\n    const [email,setEmail]=useState(\"\");\n    const [password,setPassword]=useState(\"\");\n    const {state,dispatch}=useContext(UserContext);\n    const login= (e)=>{\n      e.preventDefault();\n      // setLoader(true);\n\n      const config={\n          headers:{\n              \"content-type\":\"application/json\"\n          }\n       }\n       const reqData={\n          email :email,\n          password:password,\n       }\n     \n       axios.post(`${API_BASE_URL}/users`,reqData,config)\n      .then((response)=>{\n          // alertFunction(\"Registration Done Successfully , Please Proced to Login \",'success');\n\n          // find authenticated user details of api\n        const userId=1;// hard coded value of user\n          fetch(`${API_BASE_URL}/users/${userId}`,)\n        .then((response) => response.json())\n        .then((json) => {\n\n          // storing the user details in local storage\n          localStorage.clear();\n          localStorage.setItem(\"user\",JSON.stringify(json));\n          localStorage.setItem(\"token\",\"abcdssnk\");\n\n          const token=localStorage.getItem(\"token\");\n          \n          const user=JSON.parse(localStorage.getItem(\"user\"));\n          const userState={'token':token,'user':user};\n          const action={type:'LOGIN', payload:userState};\n          dispatch(action);\n          navigate('/posts');\n        \n        });\n\n\n\n          console.log(response);\n\n      })\n      .catch((err)=>{\n          // alertFunction(\"Some Error occured!\",'danger');\n          console.log(err)\n      })\n  }\n\n\n  return (\n    <div className='container  '>\n    <h3 className='py-3 text-center text-uppercase' >Please Login Below</h3>\n    <div className=\"contact-form-container mx-auto text-muted shadow-sm rounded p-3 lh-2\">  \n    <form onSubmit={(e)=>{login(e)}}>\n    <div className=\"mb-3\">\n    <label htmlFor=\"email\" className=\"form-label\">Email</label>\n    <input onChange={(e)=>{setEmail(e.target.value)}} type=\"email\" className=\"form-control\" id=\"email\" required aria-describedby=\"emailHelp\"/>\n  </div>\n  <div className=\"mb-3\">\n    <label htmlFor=\"password\" className=\"form-label\">Password</label>\n    <input onChange={(e)=>{setPassword(e.target.value)}} type=\"password\" className=\"form-control\" id=\"password\" required aria-describedby=\"password\"/>\n  </div>\n<div className='d-grid'>\n<button type=\"submit\" className=\"btn btn-primary\">Login</button>\n\n</div>\n</form>\n</div>\n    </div>\n  )\n}\n\nexport default Login"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}